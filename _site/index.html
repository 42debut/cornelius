<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <link rel="stylesheet" type="text/css" href="stylesheets/cornelius.css" />
    <script type="text/javascript" src="javascripts/cornelius.js"></script>

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Cornelius</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Cornelius</h1>
        <h2>A Cohort Visualization library for the browser</h2>
        <a href="https://github.com/gschammah/cornelius" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1 id='introduction'>Introduction</h1>

<p><strong>Cornelius</strong> allows you to draw Cohort Charts like this:</p>
<div id='main-example' /><script type='text/javascript'>
  var data = [
    [1973,1000,750,300,400,70,20],
    [1268,549,336,221,122,115],
    [1892,1282,250,32,18],
    [1832,379,254,314],
    [1171,256,120],
    [2533,340]
  ],
  // The initial date is the date displayed
  // in the first column of the first row
  initialDate = new Date(2012, 0),

  // DOM Element where the Cohort Chart will be inserted
  container = document.getElementById('main-example');

  new Cornelius(initialDate).draw(data, container);
</script>
<p>Writing only this code:</p>
<div class='highlight'><pre><code class='html'><span class='nt'>&lt;script </span><span class='na'>type=</span><span class='s'>&quot;text/javascript&quot;</span><span class='nt'>&gt;</span>
  <span class='kd'>var</span> <span class='nx'>data</span> <span class='o'>=</span> <span class='p'>[</span>
    <span class='p'>[</span><span class='mi'>1973</span><span class='p'>,</span><span class='mi'>1000</span><span class='p'>,</span><span class='mi'>750</span><span class='p'>,</span><span class='mi'>300</span><span class='p'>,</span><span class='mi'>400</span><span class='p'>,</span><span class='mi'>70</span><span class='p'>,</span><span class='mi'>20</span><span class='p'>],</span>
    <span class='p'>[</span><span class='mi'>1268</span><span class='p'>,</span><span class='mi'>549</span><span class='p'>,</span><span class='mi'>336</span><span class='p'>,</span><span class='mi'>221</span><span class='p'>,</span><span class='mi'>122</span><span class='p'>,</span><span class='mi'>115</span><span class='p'>],</span>
    <span class='p'>[</span><span class='mi'>1892</span><span class='p'>,</span><span class='mi'>1282</span><span class='p'>,</span><span class='mi'>250</span><span class='p'>,</span><span class='mi'>32</span><span class='p'>,</span><span class='mi'>18</span><span class='p'>],</span>
    <span class='p'>[</span><span class='mi'>1832</span><span class='p'>,</span><span class='mi'>379</span><span class='p'>,</span><span class='mi'>254</span><span class='p'>,</span><span class='mi'>314</span><span class='p'>],</span>
    <span class='p'>[</span><span class='mi'>1171</span><span class='p'>,</span><span class='mi'>256</span><span class='p'>,</span><span class='mi'>120</span><span class='p'>],</span>
    <span class='p'>[</span><span class='mi'>2533</span><span class='p'>,</span><span class='mi'>340</span><span class='p'>]</span>
  <span class='p'>],</span>
  <span class='c1'>// The initial date is the date displayed</span>
  <span class='c1'>// in the first column of the first row</span>
  <span class='nx'>initialDate</span> <span class='o'>=</span> <span class='k'>new</span> <span class='nb'>Date</span><span class='p'>(</span><span class='mi'>2012</span><span class='p'>,</span> <span class='mi'>0</span><span class='p'>),</span>

  <span class='c1'>// DOM Element where the Cohort Chart will be inserted</span>
  <span class='nx'>container</span> <span class='o'>=</span> <span class='nb'>document</span><span class='p'>.</span><span class='nx'>getElementById</span><span class='p'>(</span><span class='s1'>&#39;main-example&#39;</span><span class='p'>);</span>

  <span class='k'>new</span> <span class='nx'>Cornelius</span><span class='p'>(</span><span class='nx'>initialDate</span><span class='p'>).</span><span class='nx'>draw</span><span class='p'>(</span><span class='nx'>data</span><span class='p'>,</span> <span class='nx'>container</span><span class='p'>);</span>
<span class='nt'>&lt;/script&gt;</span>
</code></pre></div>
<h1 id='installation'>Installation</h1>

<p>Just include the javascript and stylesheet files and you are ready to go.</p>
<div class='highlight'><pre><code class='html'><span class='nt'>&lt;link</span> <span class='na'>rel=</span><span class='s'>&quot;stylesheet&quot;</span> <span class='na'>type=</span><span class='s'>&quot;text/css&quot;</span> <span class='na'>href=</span><span class='s'>&quot;cornelius.css&quot;</span> <span class='nt'>/&gt;</span>
<span class='nt'>&lt;script </span><span class='na'>type=</span><span class='s'>&quot;text/javascript&quot;</span> <span class='na'>src=</span><span class='s'>&quot;cornelius.js&quot;</span><span class='nt'>&gt;&lt;/script&gt;</span>
</code></pre></div>
<h1 id='api'>API</h1>
<div class='highlight'><pre><code class='javascript'><span class='kd'>var</span> <span class='nx'>cornelius</span> <span class='o'>=</span> <span class='k'>new</span> <span class='nx'>Cornelius</span><span class='p'>(</span> <span class='k'>new</span> <span class='nb'>Date</span><span class='p'>(</span><span class='mi'>2012</span><span class='p'>,</span> <span class='mi'>06</span><span class='p'>),</span> <span class='p'>[</span><span class='nx'>options</span><span class='p'>]</span> <span class='p'>);</span>
<span class='nx'>cornelius</span><span class='p'>.</span><span class='nx'>draw</span><span class='p'>(</span><span class='nx'>data</span><span class='p'>,</span> <span class='nx'>container</span><span class='p'>);</span>
</code></pre></div>
<h2 id='constructor'>Constructor</h2>

<p>The first parameter the constructor takes is a <code>Date</code> object which will be used as the initial date to compute the dates that will be shown in the chart.</p>

<p>This <code>Date</code> object should have the <code>date</code> part of the object set as the beginning of the month (day 1), and must have the time set to &#8216;00:00&#8217;.</p>
<div class='highlight'><pre><code class='javascript'><span class='kd'>var</span> <span class='nx'>date</span> <span class='o'>=</span> <span class='k'>new</span> <span class='nb'>Date</span><span class='p'>(</span><span class='mi'>2012</span><span class='p'>,</span> <span class='mi'>6</span><span class='p'>);</span> <span class='c1'>// Sun Jul 01 2012 00:00:00</span>
</code></pre></div>
<p>Be careful with the month argument you pass since the <code>Date</code> object considers January as month 0.</p>

<h2 id='methods'>Methods</h2>

<p>The only method that an instance of <strong>Cornelius</strong> exposes is the <code>draw</code> method, that takes 2 required parameters.</p>

<h2 id='data_format'>Data Format</h2>

<p>The first parameter the <code>draw</code> method takes is as an array of arrays whose values will be mapped to the cohort table cells in the same order as provided. Given the distinctive triangle shape of the chart, each array should either have a value less than the previous one, or it should be filled with <code>null</code>, <code>undefined</code>, or <code>false</code> values.</p>

<h2 id='container'>Container</h2>

<p>The second parameter it takes in a DOM element where the table will be inserted as a child element.</p>

<h1 id='options'>Options</h1>

<p>Cornelius accept any of these option values passed to the constructor:</p>

<h2 id='timeinterval'>timeInterval</h2>

<p>Cornelius accepts 4 time intervals that are used to compute the date labels: <code>daily</code>, <code>weekly</code>, <code>monthly</code>, <code>yearly</code>.</p>

<p>Example: <div id='time-interval-example' /></p>
<script type='text/javascript'>
new Cornelius(initialDate, {
  timeInterval: 'weekly'
}).draw(data, document.getElementById('time-interval-example'));

</script><div class='highlight'><pre><code class='javascript'><span class='k'>new</span> <span class='nx'>Cornelius</span><span class='p'>(</span><span class='nx'>initialDate</span><span class='p'>,</span> <span class='p'>{</span>
  <span class='nx'>timeInterval</span><span class='o'>:</span> <span class='s1'>&#39;weekly&#39;</span>
<span class='p'>}).</span><span class='nx'>draw</span><span class='p'>(</span><span class='nx'>data</span><span class='p'>,</span> <span class='nb'>document</span><span class='p'>.</span><span class='nx'>getElementById</span><span class='p'>(</span><span class='s1'>&#39;time-interval-example&#39;</span><span class='p'>));</span>
</code></pre></div>
<p>Default: <code>&#39;monthly&#39;</code></p>

<h2 id='repeatlevels'>repeatLevels</h2>

<p>It is possible to customize the colors of the cells depending on the percentage each of those have. You will have to specify the class names and the percentage ranges the library will use to decide which class will assign to each cell.</p>

<p>Below are the default css classes and ranges the library use.</p>
<div class='highlight'><pre><code class='javascript'><span class='kd'>var</span> <span class='nx'>options</span> <span class='o'>=</span> <span class='p'>{</span>
  <span class='nx'>repeatLevels</span><span class='o'>:</span> <span class='p'>{</span>
    <span class='s1'>&#39;low&#39;</span><span class='o'>:</span> <span class='p'>[</span><span class='mi'>0</span><span class='p'>,</span> <span class='mi'>10</span><span class='p'>],</span>
    <span class='s1'>&#39;medium-low&#39;</span><span class='o'>:</span> <span class='p'>[</span><span class='mi'>10</span><span class='p'>,</span> <span class='mi'>20</span><span class='p'>],</span>
    <span class='s1'>&#39;medium&#39;</span><span class='o'>:</span> <span class='p'>[</span><span class='mi'>20</span><span class='p'>,</span> <span class='mi'>30</span><span class='p'>],</span>
    <span class='s1'>&#39;medium-high&#39;</span><span class='o'>:</span> <span class='p'>[</span><span class='mi'>30</span><span class='p'>,</span> <span class='mi'>40</span><span class='p'>],</span>
    <span class='s1'>&#39;high&#39;</span><span class='o'>:</span> <span class='p'>[</span><span class='mi'>40</span><span class='p'>,</span> <span class='mi'>60</span><span class='p'>],</span>
    <span class='s1'>&#39;hot&#39;</span><span class='o'>:</span> <span class='p'>[</span><span class='mi'>60</span><span class='p'>,</span> <span class='mi'>70</span><span class='p'>],</span>
    <span class='s1'>&#39;extra-hot&#39;</span><span class='o'>:</span> <span class='p'>[</span><span class='mi'>70</span><span class='p'>,</span> <span class='mi'>100</span><span class='p'>]</span>
  <span class='p'>}</span>
<span class='p'>}</span>

<span class='k'>new</span> <span class='nx'>Cornelius</span><span class='p'>(</span><span class='nx'>initialDate</span><span class='p'>,</span> <span class='nx'>options</span><span class='p'>).</span><span class='nx'>draw</span><span class='p'>(...);</span>
</code></pre></div>
<p>In this example, Cornelius will assign the <code>cornelius-low</code> class to each cell with a value between 0% and 10%, <code>cornelius-medium-low</code> to each cell between 10% and 20%, and so on.</p>

<p>You can specify as many ranges and class names as you want, but don&#8217;t forget to add those classes to your stylesheets.</p>

<h2 id='drawemptycells'>drawEmptyCells</h2>

<p>Setting this property to <code>true</code> will display a white empty cell for those cells that are &#8220;outside&#8221; of the main triangle.</p>

<p>Example: <div id='empty-cells-example' /></p>
<script type='text/javascript'>
new Cornelius(initialDate, {
  timeInterval: 'daily',
  drawEmptyCells: false
}).draw(data, document.getElementById('empty-cells-example'));

</script><div class='highlight'><pre><code class='javascript'><span class='k'>new</span> <span class='nx'>Cornelius</span><span class='p'>(</span><span class='nx'>initialDate</span><span class='p'>,</span> <span class='p'>{</span>
  <span class='nx'>timeInterval</span><span class='o'>:</span> <span class='s1'>&#39;daily&#39;</span><span class='p'>,</span>
  <span class='nx'>drawEmptyCells</span><span class='o'>:</span> <span class='kc'>false</span>
<span class='p'>}).</span><span class='nx'>draw</span><span class='p'>(</span><span class='nx'>data</span><span class='p'>,</span> <span class='nb'>document</span><span class='p'>.</span><span class='nx'>getElementById</span><span class='p'>(</span><span class='s1'>&#39;empty-cells-example&#39;</span><span class='p'>));</span>
</code></pre></div>
<p>Default: <code>true</code></p>

<h2 id='rawnumberonhover'>rawNumberOnHover</h2>

<p>If <code>rawNumberOnHover</code> is set to true, will display the raw number while leaving the mouse on top of a cell.</p>

<p>Default: <code>true</code></p>

<h2 id='initialmonth'>initialMonth</h2>

<p>This property will allow you to specify which will be the initial month number to display in the column headers.</p>

<p>Default: <code>1</code></p>

<h2 id='i18n'>I18n</h2>

<p>The library uses only 3 strings for the labels that can be specified in the options object:</p>
<div class='highlight'><pre><code class='javascript'><span class='k'>new</span> <span class='nx'>Cornelius</span><span class='p'>(</span><span class='nx'>initialDate</span><span class='p'>,</span> <span class='p'>{</span>
  <span class='nx'>labels</span><span class='o'>:</span> <span class='p'>{</span>
    <span class='nx'>time</span><span class='o'>:</span> <span class='s1'>&#39;Zeit&#39;</span><span class='p'>,</span> <span class='c1'>// Time</span>
    <span class='nx'>people</span><span class='o'>:</span> <span class='s1'>&#39;Menschen&#39;</span><span class='p'>,</span> <span class='c1'>// People</span>
    <span class='nx'>weekOf</span><span class='o'>:</span> <span class='s1'>&#39;Woche Vom&#39;</span> <span class='c1'>// Week Of</span>
  <span class='p'>}</span>
<span class='p'>});</span>
</code></pre></div>
<p>The short and long month names can also be customized:</p>
<div class='highlight'><pre><code class='javascript'><span class='k'>new</span> <span class='nx'>Cornelius</span><span class='p'>(</span><span class='nx'>initialDate</span><span class='p'>,</span> <span class='p'>{</span>
  <span class='nx'>monthNames</span><span class='o'>:</span> <span class='p'>[</span><span class='s1'>&#39;Enero&#39;</span><span class='p'>,</span> <span class='s1'>&#39;Febrero&#39;</span><span class='p'>,</span> <span class='s1'>&#39;Marzo&#39;</span><span class='p'>,</span> <span class='s1'>&#39;Abril&#39;</span><span class='p'>,</span> <span class='s1'>&#39;Mayo&#39;</span><span class='p'>,</span> <span class='s1'>&#39;Junio&#39;</span><span class='p'>,</span> <span class='s1'>&#39;Julio&#39;</span><span class='p'>,</span>
               <span class='s1'>&#39;Agosto&#39;</span><span class='p'>,</span> <span class='s1'>&#39;Septiembre&#39;</span><span class='p'>,</span> <span class='s1'>&#39;Octubre&#39;</span><span class='p'>,</span> <span class='s1'>&#39;Noviembre&#39;</span><span class='p'>,</span> <span class='s1'>&#39;Diciembre&#39;</span><span class='p'>],</span>

  <span class='nx'>shortMonthNames</span><span class='o'>:</span> <span class='p'>[</span><span class='s1'>&#39;Ene&#39;</span><span class='p'>,</span> <span class='s1'>&#39;Feb&#39;</span><span class='p'>,</span> <span class='s1'>&#39;Mar&#39;</span><span class='p'>,</span> <span class='s1'>&#39;Abr&#39;</span><span class='p'>,</span> <span class='s1'>&#39;Mar&#39;</span><span class='p'>,</span> <span class='s1'>&#39;Jun&#39;</span><span class='p'>,</span> <span class='s1'>&#39;Jul&#39;</span><span class='p'>,</span>
                    <span class='s1'>&#39;Ago&#39;</span><span class='p'>,</span> <span class='s1'>&#39;Sep&#39;</span><span class='p'>,</span> <span class='s1'>&#39;Oct&#39;</span><span class='p'>,</span> <span class='s1'>&#39;Nov&#39;</span><span class='p'>,</span> <span class='s1'>&#39;Dic&#39;</span><span class='p'>]</span>
<span class='p'>});</span>
</code></pre></div>
<p>Alternatively you can specify the functions that will be called to return the Strings for the header and date labels:</p>

<h2 id='formatheaderlabel'>formatHeaderLabel</h2>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/gschammah/cornelius/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/gschammah/cornelius/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/gschammah/cornelius"></a> is maintained by <a href="https://github.com/gschammah">gschammah</a>.</p>

          <p>This page was generated by <a href="pages.github.com">GitHub Pages</a> using the Architect theme by <a href="http://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>


  </body>
</html>
